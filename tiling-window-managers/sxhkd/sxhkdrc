# --- NOTES ---

# To run the program
# $ sxhkd -c /storage/src/dot_files/sxhkd/sxhkdrc

# rofi: run app, show windows
# super + r; {space,Tab}
#	rofi -show {drun -drun-icon-theme,window -drun-icon-theme}

# --- SHORTCUTS ---

## WM independent

# run - file manager (pcmanfm):
super + r; f; m
	pcmanfm

# run - Generate password:
super + r; g; p
	notify-send "Generating password... (will be pasted to clipboard)" && tr -dc "a-zA-Z0-9_#@.-" < /dev/urandom | head -c 14 | xclip -selection clipboard

# set local wallpaper manually (m to mark):
super + w; l; m
	notify-send "Choose a local wallpaper..." && sxiv -t -o ~/Wallpapers/*.{jpg,png} | xargs feh --bg-fill --auto-zoom --scale-down

# set local wallpaper randomly:
super + w; l; r
	notify-send "Setting local wallpaper randomly..." && feh --bg-fill --auto-zoom --scale-down $(find $HOME/Wallpapers/* -xtype f | sort -R | head -1)

# Change lock screen wallpaper:
super + w; z
    notify-send 'betterlockscreen' 'Changing wallpaper...' && \
	    betterlockscreen -u $HOME/Wallpapers && \
	    notify-send 'betterlockscreen' 'Changed wallpaper.'

# remote random wallpaper from reddit (styli.sh):
super + w; r
	notify-send "Getting remote wallpaper from reddit..." && \
		export WALLPAPER_PATH=$HOME/Wallpapers/$(date +%Y%m%d-%H%M%S-%N).jpg && \
		cd /opt/styli.sh && \
		./styli.sh -l reddit && \
		cp ~/.cache/styli.sh/wallpaper.jpg $WALLPAPER_PATH && \
		feh --bg-fill --auto-zoom --scale-down $WALLPAPER_PATH && \
		notify-send "Wallpaper set to $WALLPAPER_PATH ."

# arandr & reload local wallpaper:
super + w; e
	arandr && reload_wallpaper.sh

# qutebrowser:
alt + b
	flatpak run --filesystem=host org.qutebrowser.qutebrowser -B $HOME/.local/share/qutebrowser/personal -C $HOME/.local/share/qutebrowser/personal/config/config.py

# customize caps lock:
alt + c
	customize_capslock.sh

# htop:
alt + h
	urxvt -name htop -title htop --hold -e htop

# toggle keyboards:
alt + k
	toggle_keyboards.py

# toggle compositor:
alt + o
	toggle_compositor.sh

# launch snippets:
alt + s
	snippets.sh

# qutebrowser - work mode:
alt + shift + b
	flatpak run --filesystem=host org.qutebrowser.qutebrowser -B $HOME/.local/share/qutebrowser/work/dafiti -C $HOME/.local/share/qutebrowser/work/dafiti/config/config.py


# pavucontrol:
alt + v
	pavucontrol

# decrease screen brightness:
alt + shift + Down
	xbacklight -dec 20

# decrease sound volume:
alt + Down
	pactl set-sink-volume $(pacmd list-sinks | grep index | grep '*' | sed 's/: /:/g' | cut -d ':' -f 2) -5%

# increase sound volume:
alt + Up
	pactl set-sink-volume $(pacmd list-sinks | grep index | grep '*' | sed 's/: /:/g' | cut -d ':' -f 2) +5%

# mute/unmute sound volume:
alt + shift + 8
	pactl set-sink-mute $(pacmd list-sink-inputs | grep -c index) toggle

# playerctl toggle play / pause:
alt + space
	playerctl play-pause

# playerctl next:
alt + Right
	playerctl next

# playerctl previous:
alt + Left
	playerctl previous

# dmenu apps:
super + shift + e
	dmenu_run

# dmenu launcher (browser, hex colors, kill and run):
super + shift + r
	dmlauncher.sh

# dunst notifications menu:
super + u
	dmdunst-menu.sh

# echo keys typed on screen:
alt + n
	killall screenkey && screenkey &

# increase screen brightness:
alt + shift + Up
	xbacklight -inc 20

# rofi app menu:
super + e
	rofi -show drun -drun-icon-theme

# rofi shutdown menu:
super + z
	shutdown.py

# clippy clipboard:
super + c
	clippy_rofi.py

# cheatsheet - (MAIN) bspwm/sxhkd:
super + d; d
	sxhkd-print-cheatsheet.py | sort | dmenu -fn Monospace:size=12 -c -bw 2 -l 20 -p 'Filter a sxhkd binding:'

# cheatsheet - alacritty:
super + d; a
	alacritty-dmenu-cheatsheet.sh

# cheatsheet - bash functions and aliases:
super + d; b
	bash-functions-and-aliases-cheatsheet.sh

# cheatsheet - ipdb:
super + d; i
	ipdb-dmenu-cheatsheet.sh

# cheatsheet - neovim:
super + d; n
	vim_shortcuts.py -f neovim

# cheatsheet - vim:
super + d; v
	vim_shortcuts.py -f vim

# cheatsheet - tmux:
super + d; t
	tmux-dmenu-cheatsheet.sh

# cheatsheet - git:
super + d; g
	git-print-cheatsheet.py | dmenu -fn Monospace:size=12 -c -bw 2 -l 20 -p 'Filter a git alias:'

# cheatsheet - qutebrowser:
super + d; q
	qutebrowser-dmenu-cheatsheet.sh

# drag-and-drop screenshot taken today:
super + x
 	dm-drag-and-drop-screenshot.sh

# drag-and-drop any file:
super + shift + x
 	dm-drag-and-drop-any-file.sh

# terminal:
super + Return
	terminal.sh

# bookmarks:
super + shift + b
	bookmarks.py

# screenshot - region:
super + shift + p
	screenshot.py -s region

# terminal - tmux:
super + shift + Return
	terminal-tmux.sh

# passwords - rofi:
super + p
	pass-rofi.sh

# toggle systray (stalonetray):
super + t
	toggle-stalonetray.sh

# vim edit text field:
alt + e
	vedit.sh


## WM specific

### bspwm

# scratchpad - dropdownterm:
alt + t
	bspwm-toggle-visibility-new.sh dropdownterm "terminal-dropdownterm.sh"

# scratchpad - flashcards:
alt + f
	bspwm-toggle-visibility-new.sh flashcard "flashcard.sh"

# [quit,restart] bspwm:
super + alt + {q,r}
	bspc {quit,wm -r}

# close and kill current window:
super + BackSpace
	bspc node -c

# swap the current node and the biggest window:
super + g
	bspc node -s biggest.window

# set the window state [tiled,pseudo_tiled,floating,fullscreen]:
super + {i,m,l,f}
	bspc node -t {\~tiled,\~pseudo_tiled,\~floating,\~fullscreen}

# set the node flags [marked,locked,sticky,private]:
super + ctrl + {a,x,y,z}
	bspc node -g {marked,locked,\~sticky,private}

# focus the node on the given direction [west,south,north,east]:
super + {Left,Down,Up,Right}
	bspc node -f {west,south,north,east}

# focus the last [node,desktop]:
super + {grave,Tab}
	bspc {node,desktop} -f last

# focus or send to the given [desktop,node] [0-9]:
super + {_,shift + }{1-9,0}
	bspc {desktop -f,node -d} '^{1-9,10}' --follow

# Move current window to preselected space:
super + ctrl + m
    bspc node -n last.!automatic

# preselect the direction for a new window [west,south,north,east]:
super + ctrl + {h,j,k,l}
	bspc node -p {west,south,north,east}

# cancel the preselection for the focused node:
super + ctrl + space
	bspc node -p cancel

# restart/reload sxhkdrc:
super + ctrl + r
    pkill -usr1 -x sxhkd; notify-send 'sxhkd' 'Reloaded config'

# expand a window by moving one of its side outward [left,bottom,top,right]:
super + alt + {h,j,k,l}
    STEP=20; SELECTION={1,2,3,4}; \
    bspc node -z $(echo "left -$STEP 0,bottom 0 $STEP,top 0 -$STEP,right $STEP 0" | cut -d',' -f$SELECTION) || \
    bspc node -z $(echo "right -$STEP 0,top 0 $STEP,bottom 0 -$STEP,left $STEP 0" | cut -d',' -f$SELECTION)

# toggle show/hide all windows on current workspace
super + h
	bspc query -N -n .local.window | xargs -I ID bspc node ID -g hidden

# move a floating window [Left,Down,Up,Right]:
super + {Left,Down,Up,Right}
	bspc node -v {-20 0,0 20,0 -20,20 0}

# focus window by name:
alt + Tab
	bspwm-focus-window-by-name.sh

# Rotates the order of the windows on current desktop
super + space
    bspc node @/ -C forward

